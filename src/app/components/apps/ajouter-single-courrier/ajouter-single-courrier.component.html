<div class="absolute inset-0 flex flex-col min-w-0 overflow-hidden" *transloco="let translate">
    <mat-drawer-container class="flex-auto h-full bg-card dark:bg-transparent">
        <mat-drawer-content class="flex flex-col bg-card dark:bg-transparent">
            <!-- Main -->
            <div class="flex flex-col flex-auto">
                <!-- Header -->
                <div class="flex items-center justify-between sm:p-1 border-b bg-card dark:bg-transparent">
                    <div class="flex items-center">
                       <button
                       class="border border-gray-400 text-gray-700 hover:bg-gray-100 px-3 py-1 rounded mr-1 flex items-center gap-2"
                       (click)="goBack()"
                       >
                       <i class="fas fa-chevron-left"></i>
                       {{translate('common.retour')}}
                   </button>

                        <div class="mr-1 h-6 w-0.5 bg-gradient-to-t from-blue-500 to-blue-700"></div>

                        <div class="text-xs sm:text-sm md:text-lg font-extrabold tracking-tight leading-none">
                            {{translate("ajouterdocument.ajouterdocument")}} :
                        </div>
                    </div>

                    <div
                        class="flex sm:flex-row items-start sm:items-center font-normal text-secondary text-sm sm:text-base">
                        <ng-container>
                            <div class="mr-2">{{translate("common.total")}}: 4</div>
                        </ng-container>

                    </div>
                </div>
                <!-- End Header -->

                 <!-- Line separator -->
                 <div class="h-1 bg-blue-500">
                    <div class="h-full bg-yellow-400 w-1/5"></div>
                </div>


                <!-- Ajouter Document -->
                <mat-tab-group class="sm:px-2" mat-stretch-tabs="false" [animationDuration]="'0'">
                    <mat-tab label="{{translate('ajouterdocument.ajouterdocument')}}">
                        <ng-template matTabContent>
                            <div class="w-full p-2 bg-white rounded-md justify-center align-content-center shadow-md">
                            <div class="flex justify-center items-center w-full">
                                <div class="inset-0 bg-card bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center">
                                    <div class="bg-card p-5 rounded-lg w-full h-auto">
                                        <div class="flex justify-between items-center mb-4">
                                            <h2 class="text-xl font-bold">{{
                                                translate('ajouterdocument.ajouterdocument') }}</h2>
                                            <button class="text-2xl" (click)="onClose()">&times;</button>
                                        </div>

                                        <!-- Line Separator -->
                                        <div class="w-full h-1 mb-2"
                                            style="background: linear-gradient(to right, #ffc107, #007bff);"></div>

                                        <div class="flex flex-col md:flex-row h-full">
                                            <!-- Left Column -->
                                            <div [ngClass]="{'md:w-1/3 md:pr-4': showDocument, 'w-full': !showDocument}"
                                                class="md:pr-4 mb-2 md:mb-0">
                                                <!-- Groupes documents -->
                                                <div class="mb-2">
                                                    <label class="block text-sm font-medium mb-1">{{
                                                        translate('ajouterdocument.groupesdocuments') }} </label>
                                                    <select class="w-full border rounded-md p-2 bg-card text-secondary">
                                                        <option>Aucun groupe n'est sélectionné</option>
                                                        <option>test</option>
                                                    </select>
                                                </div>

                                                <!-- Type Document -->
                                                <div class="mb-2">
                                                    <label class="block text-sm font-medium mb-1">{{
                                                        translate('ajouterdocument.typedocument') }} :</label>
                                                    <select class="w-full border rounded-md p-2 bg-card text-secondary"
                                                        [(ngModel)]="selectedDocumentType"
                                                        (change)="onDocumentTypeChange()">
                                                        <option>test</option>
                                                        <option>test1</option>
                                                    </select>
                                                </div>

                                                <!-- Slide Toggle -->
                                                <div class="mb-2" *ngIf="showFields">
                                                    <p>
                                                        <mat-slide-toggle [(ngModel)]="showDocument" color="primary">
                                                            {{ translate('ajouterdocument.ajouterfichierdocument') }}
                                                        </mat-slide-toggle>
                                                    </p>
                                                </div>

                                                <!-- Reference -->
                                                <div class="mb-2" *ngIf="showFields">
                                                    <label class="block text-sm font-medium mb-1">{{
                                                        translate('ajouterdocument.réference') }} :</label>
                                                    <div class="flex items-center w-full">
                                                        <input type="text" class="flex-grow border p-2"
                                                            placeholder="Reference" />
                                                        <button class="h-10 px-2 rounded-e border-2 border-primary-100">
                                                            <i class="fa-solid fa-crop"></i>
                                                        </button>
                                                    </div>
                                                </div>

                                                <!-- Title -->
                                                <div class="mb-2" *ngIf="showFields">
                                                    <label class="block text-sm font-medium mb-1">{{
                                                        translate('ajouterdocument.titre') }} :</label>
                                                    <div class="flex items-center w-full">
                                                        <input type="text" class="flex-grow border p-2"
                                                            placeholder="Title" />
                                                        <button class="h-10 px-2 rounded-e border-2 border-primary-100">
                                                            <i class="fa-solid fa-crop"></i>
                                                        </button>
                                                    </div>
                                                </div>

                                                <!-- Qualité -->
                                                <div class="mb-2" *ngIf="showFields">
                                                    <label class="block text-sm font-medium mb-1">{{
                                                        translate('ajouterdocument.qualite') }} :</label>
                                                    <div class="flex items-center w-full">
                                                        <input type="text" class="flex-grow border p-2"
                                                            placeholder="Qualité" />
                                                        <button class="h-10 px-2 rounded-e border-2 border-primary-100">
                                                            <i class="fa-solid fa-crop"></i>
                                                        </button>
                                                    </div>
                                                </div>

                                                <!-- Fichier -->
                                                <div class="mb-2" *ngIf="showFields">
                                                    <label class="block text-xs sm:text-sm font-medium mb-2">{{
                                                        translate('ajouterdocument.fichier') }} *:</label>
                                                    <div class="flex flex-col sm:flex-row gap-2 sm:gap-4">
                                                        <div class="inline-flex space-x-1" role="group">
                                                            <button class="rounded-l-md border-2 h-10 px-3">{{
                                                                translate('ajouterdocument.browse')}} </button>
                                                            <button class="border-2 h-10 px-3">{{
                                                                translate('ajouterdocument.scanner') }}</button>
                                                            <button class="rounded-r-md border-2 h-10 px-3">{{
                                                                translate('ajouterdocument.nouveau') }}</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Right Column (Document Viewer) -->
                                            <div *ngIf="showDocument" class="md:w-2/3">
                                                <div class="border-b pb-2 mb-2 flex justify-between items-center">
                                                    <h3 class="text-lg font-semibold">{{
                                                        translate('ajouterdocument.visualiser') }}</h3>
                                                    <div class="flex items-center">
                                                        <span class="mr-2">{{
                                                            translate('ajouterdocument.préciserlanguedocument')
                                                            }}:</span>
                                                        <select class="border rounded-md p-1 bg-card text-secondary">
                                                            <option>{{ translate('ajouterdocument.francais') }}</option>
                                                            <option>{{ translate('ajouterdocument.anglais') }}</option>
                                                            <option>{{ translate('ajouterdocument.arabe') }}</option>
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="bg-card h-5/6 rounded-lg flex items-center justify-center">
                                                    <!-- <ngx-doc-viewer
                                                        [url]="'https://vadimdez.github.io/ng2-pdf-viewer/assets/pdf-test.pdf'"
                                                        viewer="url" style="width: 100%; height: 70vh;">
                                                    </ngx-doc-viewer> -->
                                                </div>
                                            </div>
                                        </div>

                                        <div class="flex justify-end mt-2 p-3">
                                            <button
                                                class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 mr-1 rounded-md flex items-center">
                                                <i class="fa-solid fa-times mr-2"></i> {{ translate('common.annuler') }}
                                            </button>
                                            <button
                                                class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 ml-1 rounded-md flex items-center">
                                                <i class="fa-solid fa-save mr-2"></i> {{ translate('ajoutercourrier.enregistrer')
                                                }}
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            </div>
                        </ng-template>
                    </mat-tab>
                </mat-tab-group>




                <!-- No Data template -->
                <ng-template #NoData>
                    <div class="flex flex-auto flex-col items-center justify-center bg-gray-100 dark:bg-transparent">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                            width="100px" height="100px" viewBox="0,0,256,256">
                            <defs>
                                <linearGradient x1="24" y1="6.708" x2="24" y2="14.977" gradientUnits="userSpaceOnUse">
                                    <stop offset="0" stop-color="#F76D57" />
                                    <stop offset="1" stop-color="#F76D57" stop-opacity="0" />
                                </linearGradient>
                            </defs>
                            <g>
                                <path fill="url(#SVGRepo_bgCarrier)" d="M0 0h256v256H0z" />
                                <path fill="#3A88F2"
                                    d="M128,24C77.67,24,36,65.67,36,116c0,55.25,71.83,104,98.67,117.11c5.83,2.8,12.28,2.8,18.11,0C173.17,220,256,171.25,256,116C256,65.67,214.33,24,164,24A73.6,73.6,0,0,0,128,24Z" />
                                <path fill="#3A88F2" d="M128,40a4,4,0,0,0-4,4v88a4,4,0,0,0,8,0V44A4,4,0,0,0,128,40Z" />
                                <path fill="#3A88F2" d="M128,160a4,4,0,0,0-4,4v8a4,4,0,0,0,8,0v-8A4,4,0,0,0,128,160Z" />
                                <path fill="#3A88F2" d="M96,144a4,4,0,0,0-4,4v8a4,4,0,0,0,8,0v-8A4,4,0,0,0,96,144Z" />
                                <path fill="#3A88F2" d="M160,144a4,4,0,0,0-4,4v8a4,4,0,0,0,8,0v-8A4,4,0,0,0,160,144Z" />
                            </g>
                        </svg>
                        <h1 class="mt-2 text-lg font-semibold">
                            {{translate('common.aucuncourrier')}}
                        </h1>

                    </div>
                </ng-template>
            </div>
        </mat-drawer-content>
    </mat-drawer-container>
</div>
