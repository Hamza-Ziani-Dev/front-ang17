<div class="absolute inset-0 flex flex-col min-w-0 overflow-hidden" *transloco="let translate">
    <mat-drawer-container class="flex-auto h-full bg-card dark:bg-transparent">
        <!-- Drawer -->
        <mat-drawer #drawer mode="over" class="bg-gray-800 text-white">
            <div class="flex flex-col p-4">
                <!-- Photo -->
                <button (click)="selectTab('photo')" [ngClass]="{ 'bg-cyan-50 text-blue-500': activeTab === 'photo' }"
                    class="py-2 text-sm font-medium rounded">{{translate('preferences.photo')}}
                </button>
                <!-- Certificat -->
                <button (click)="selectTab('certificat')"
                    [ngClass]="{ 'bg-cyan-50 text-blue-500': activeTab === 'certificat' }"
                    class="py-2 text-sm font-medium rounded">{{translate('preferences.certificateelectroniquesignature')}}
                </button>
                <!-- mot de passe -->
                <button (click)="selectTab('mot de passe')"
                    [ngClass]="{ 'bg-cyan-50 text-blue-500': activeTab === 'mot de passe' }"
                    class="py-2 text-sm font-medium rounded">
                    {{translate('preferences.motdepasse')}}
                </button>
                <!-- infos utilisateur -->
                <button (click)="selectTab('infos utilisateur')"
                    [ngClass]="{ 'bg-cyan-50 text-blue-500': activeTab === 'infos utilisateur' }"
                    class="py-2 text-sm font-medium rounded">
                    {{translate('preferences.infosutilisateur')}}
                </button>
                <!-- Mes modÃ¨les -->
                <button (click)="selectTab('modeles')" [ngClass]="{ 'bg-cyan-50 text-blue-500': activeTab === 'modeles' }"
                    class="py-2 text-sm font-medium rounded">
                     {{translate('preferences.modeles')}}
                </button>
                <!--  profilsabsence -->
                <button (click)="selectTab('profilsabsence')"
                    [ngClass]="{ 'bg-cyan-50 text-blue-500': activeTab === 'profilsabsence' }"
                    class="py-2 text-sm font-medium rounded">
                    {{translate('preferences.profilsabsence')}}
                </button>
                <!-- Profil Secondaire -->
                <!-- <button (click)="selectTab('Profil Secondaire')"
                    [ngClass]="{ 'bg-cyan-50 text-blue-500': activeTab === 'Profil Secondaire' }"
                    class="py-2 text-sm font-medium rounded">
                    {{translate('preferences.profilsecondaire')}}
                </button> -->
                <!-- Historiques courriers documents -->
                <!-- <button (click)="selectTab('historiques')"
                    [ngClass]="{ 'bg-cyan-50 text-blue-500': activeTab === 'historiques' }"
                    class="py-2 text-sm font-medium rounded">
                    {{translate('preferences.historiquescourriersdocuments')}}
                </button> -->
            </div>
        </mat-drawer>
        <!-- End Drawer -->

        <mat-drawer-content class="flex flex-col bg-gray-100 dark:bg-transparent">
            <!-- Main -->
            <div class="flex flex-col flex-auto">
                <!-- Header -->
                <div class="bg-sky-600 text-white flex items-center justify-between p-2">
                    <button mat-icon-button (click)="drawer.toggle()" *ngIf="isMobile" class="ml-12 flex items-center">
                        <mat-icon class="ml-2">menu</mat-icon>
                        <span class="ml-2 text-lg font-semibold">{{translate('common.references')}}</span>
                    </button>

                    <div class="hidden md:flex flex-wrap items-center">
                        <!-- Photo -->
                        <button (click)="selectTab('photo')"
                            [ngClass]="{ 'bg-cyan-50 text-blue-500': activeTab === 'photo' }"
                            class="px-3 py-2 text-sm font-medium rounded whitespace-nowrap hover:bg-cyan-50 hover:text-blue-500 transition-colors mr-4">{{translate('preferences.photo')}}
                        </button>

                        <!-- Certificat -->
                        <button (click)="selectTab('certificat')"
                            [ngClass]="{ 'bg-cyan-50 text-blue-500': activeTab === 'certificat' }"
                            class="px-3 py-2 text-sm font-medium rounded whitespace-nowrap hover:bg-cyan-50 hover:text-blue-500 transition-colors mr-4">
                            {{translate('preferences.certificateelectroniquesignature')}}
                        </button>
                        <!-- mot de passe -->
                        <button (click)="selectTab('mot de passe')"
                            [ngClass]="{ 'bg-cyan-50 text-blue-500': activeTab === 'mot de passe' }"
                            class="px-3 py-2 text-sm font-medium rounded whitespace-nowrap hover:bg-cyan-50 hover:text-blue-500 transition-colors mr-4">
                            {{translate('preferences.motdepasse')}}
                        </button>
                        <!-- infos utilisateur -->
                        <button (click)="selectTab('infos utilisateur')"
                            [ngClass]="{ 'bg-cyan-50 text-blue-500': activeTab === 'infos utilisateur' }"
                            class="px-3 py-2 text-sm font-medium rounded whitespace-nowrap hover:bg-cyan-50 hover:text-blue-500 transition-colors mr-4">
                            {{translate('preferences.infosutilisateur')}}
                        </button>
                        <!-- modeles -->
                        <button (click)="selectTab('modeles')"
                            [ngClass]="{ 'bg-cyan-50 text-blue-500': activeTab === 'modeles' }"
                            class="px-3 py-2 text-sm font-medium rounded whitespace-nowrap hover:bg-cyan-50 hover:text-blue-500 transition-colors mr-4">
                            {{translate('preferences.modeles')}}
                        </button>
                        <!-- profilsabsence -->
                        <button (click)="selectTab('profilsabsence')"
                            [ngClass]="{ 'bg-cyan-50 text-blue-500': activeTab === 'profilsabsence' }"
                            class="px-3 py-2 text-sm font-medium rounded whitespace-nowrap hover:bg-cyan-50 hover:text-blue-500 transition-colors mr-4">
                            {{translate('preferences.profilsabsence')}}
                        </button>
                        <!-- Profil Secondaire -->
                        <!-- <button (click)="selectTab('Profil Secondaire')"
                            [ngClass]="{ 'bg-cyan-50 text-blue-500': activeTab === 'Profil Secondaire' }"
                            class="px-3 py-2 text-sm font-medium rounded whitespace-nowrap hover:bg-cyan-50 hover:text-blue-500 transition-colors mr-4">
                            {{translate('preferences.profilsecondaire')}}
                        </button> -->
                        <!-- historiques -->
                        <!-- <button (click)="selectTab('historiques')"
                            [ngClass]="{ 'bg-cyan-50 text-blue-500': activeTab === 'historiques' }"
                            class="px-3 py-2 text-sm font-medium rounded whitespace-nowrap hover:bg-cyan-50 hover:text-blue-500 transition-colors">
                            {{translate('preferences.historiquescourriersdocuments')}}</button> -->
                    </div>
                </div>
                <!-- End Header -->



                <!-- Subheader -->
                <div class="flex items-center justify-between sm:p-1 border-b bg-card dark:bg-transparent">
                    <div class="flex items-center">
                        <!-- Button Retour -->
                        <button
                            class="border border-gray-400 text-gray-700 hover:bg-gray-100 px-3 py-1 rounded mr-1 flex items-center gap-2"
                            (click)="goBack()">
                            <i class="fas fa-chevron-left"></i>
                            {{translate('common.retour')}}
                        </button>
                        <div class="mr-2 h-5 w-0.5 bg-gradient-to-t from-blue-500 to-blue-700"></div>
                        <div class="text-xs sm:text-sm md:text-lg font-extrabold tracking-tight leading-none">
                            {{ activeTab | titlecase }} :
                        </div>
                    </div>
                    <div class="flex items-center gap-2 flex-wrap mt-2 sm:mt-0">
                        <!-- View Mode Icons -->
                        <div class="flex items-center gap-2">
                            <div *ngIf="activeTab === 'profilsabsence'"
                                class="flex sm:flex-row items-start sm:items-center font-normal text-secondary text-sm sm:text-base">
                                <button (click)="openModale()"
                                    class="flex items-center gap-2 px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-700 mr-1">
                                    <i class="fas fa-users"></i>
                                    {{translate('common.ajouter')}}
                                </button>

                            </div>
                        </div>
                    </div>
                </div>
                <!-- End Subheader -->

                <div class="flex h-1">
                    <div class="bg-yellow-400 w-[15%]"></div>
                    <div class="bg-blue-500 flex-1"></div>
                </div>
                <!-- Content Based on Selected Tab -->
                <div class="w-full">
                    <ng-container [ngSwitch]="activeTab">
                        <div class="p-1">
                            <!-- Photo -->
                            <ng-container *ngSwitchCase="'photo'">
                                <app-user-image></app-user-image>
                            </ng-container>
                            <!-- Certificat -->
                            <ng-container *ngSwitchCase="'certificat'">
                                <app-preference-signature></app-preference-signature>
                            </ng-container>
                            <!-- Mot De Passe -->
                            <ng-container *ngSwitchCase="'mot de passe'">
                                <app-edit-password></app-edit-password>
                            </ng-container>
                            <!-- Infos Utilisateur -->
                            <ng-container *ngSwitchCase="'infos utilisateur'">
                                <app-user-edit></app-user-edit>
                            </ng-container>
                            <!-- Modeles -->
                            <ng-container *ngSwitchCase="'modeles'">
                                <app-my-templates></app-my-templates>
                            </ng-container>
                            <!-- Profils d'absence -->
                            <ng-container *ngSwitchCase="'profilsabsence'">
                                <app-user-profil-abs></app-user-profil-abs>
                            </ng-container>
                        </div>
                    </ng-container>
                </div>



                <!-- No Data template -->
                <ng-template #NoData>
                    <div class="flex flex-auto flex-col items-center justify-center bg-gray-100 dark:bg-transparent">
                        <mat-icon class="icon-size-20" [svgIcon]="'heroicons_outline:folder-open'"></mat-icon>
                        <div class="mt-1 text-2xl font-semibold tracking-tight text-secondary">
                            {{translate('common.aucuncourrier')}}
                        </div>
                    </div>
                </ng-template>
                <!-- End No Data template -->
            </div>
        </mat-drawer-content>
    </mat-drawer-container>
</div>
